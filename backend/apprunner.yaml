# backend/apprunner.yaml
version: 1.0
runtime: python3

build:
  commands:
    pre-build:
      - dnf install -y postgresql
    build:
      - pip install --no-cache-dir -r requirements.txt

run:
  command: uvicorn main:app --host 0.0.0.0 --port 8000
  network:
    port: 8000
  secrets:
    - name: OPENAI_API_KEY
      value-from: arn:aws:secretsmanager:us-west-2:990743404907:secret:kfranz-hackathon-openai-api-key
